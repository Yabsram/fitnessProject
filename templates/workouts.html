{% extends "layout.html" %}

{% block content %}

<div class="page-wrapper">

  <div class="two-box-row">

    <!-- Left Box: Form -->
    <div class="white-box">
      <h4>Enter Your Info</h4>
      <form method="POST">
        <div class="form-group">
          <label for="height">Height:</label>
          <input type="text" class="form-control" name="height" required>
        </div>
        <div class="form-group">
          <label for="weight">Weight (lbs):</label>
          <input type="number" class="form-control" name="weight" required>
        </div>
        <div class="form-group">
          <label for="goal">Goal:</label>
          <input type="text" class="form-control" name="goal" required>
        </div>
        <div class="form-group">
          <label for="age">Age (optional):</label>
          <input type="number" class="form-control" name="age">
        </div>
        <div class="form-group">
          <label for="gender">Gender (optional):</label>
          <input type="text" class="form-control" name="gender">
        </div>
        <button type="submit" class="btn btn-primary mt-2">Generate Plan</button>
      </form>
    </div>

    <!-- Right Box: Output -->
    <div class="white-box">
      {% if workout_plan %}
        <div class="formatted-plan p-4 bg-light border rounded shadow-sm">
          {{ workout_plan | safe }}
        </div>

        {% if image_links %}
          <div class="mt-4">
            <h5>Exercise Images</h5>
            <div class="row">
              {% for name, img_url in image_links %}
                <div class="col-md-4 text-center mb-3">
                  <h6>{{ name.title() }}</h6>
                  <img src="{{ img_url }}" alt="{{ name }}" class="img-fluid rounded">
                </div>
              {% endfor %}
            </div>
          </div>
        {% endif %}
      {% else %}
        <p class="text-muted">Enter your fitness info to generate a workout plan.</p>
      {% endif %}

      <style>
        .formatted-plan h2, .formatted-plan h3, .formatted-plan strong {
          margin-top: 1rem;
          font-weight: 600;
        }

        .formatted-plan a {
          color: #0d6efd;
          text-decoration: underline;
        }

        .formatted-plan ul {
          padding-left: 1.5rem;
        }

        .formatted-plan {
          white-space: pre-wrap;
        }
      </style>
    </div>

  </div>

</div>

{% endblock content %}
